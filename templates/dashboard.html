<html>

<head>
	<title>Think Ahead</title>
	{% load staticfiles %}
	<script type="text/javascript" src="{% static "jquery-1.11.0.min.js" %}"></script>
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>

	<script type="text/javascript" src="{% static "dashClient.js" %}"></script>
	<link rel="stylesheet" type="text/css" href="{% static "style.css" %}">
</head>

<body class="noScroll">
<div class="wrapper">
	
	<header>
        <a href="/home/">
        	<div class="logoHead"></div>
        </a>
        <div class="userBar">
            Hello,
            <a href="/profile">
            	<div class="userIcon"></div>
            	{{ user.username }}</a>.
            <form action="/logout">
                <input class="button" type="submit" name="logout" value="Logout">
            </form>
        </div>
	</header>
	
	<div class="container">
            <b>Total Unit Count: {{ unitsCompleted }} 
            {% if previousUnits %}
                <small><i>({{previousUnits}} units already completed.)</i></small>
            {% endif %}
            </b>          
            <form>
		<input id="" type="submit" value="Update Planner" name="update">
		</form>
		<table class="planner centered">
			<tr>
				{% for planner in planners %}
					<td>
							<div class="semesterLabel"> 
								{{ planner.0 }}
							</div>
							<div class="semesterCourseList">
							<ul id="planner{{ forloop.counter }}" class="sortableList">
								{% for course in planner.1 %}
									<li class="course">{{ course }}</li>
								{% endfor %}
							</ul>
							</div>
                                    <small>Unit count: {{planner.2}}</small>
					</td>

					{% if not forloop.last and forloop.counter|divisibleby:"3" %}
			</tr>
			<tr>
					{% endif %}
				{% endfor %}
			</tr>
		</table>
	</div>  



	<div class="container">
		{% if requirements %}

			{% for r in requirements %}
				{% if r.reqCompleted %}
					<h3 class="reqTitle">{{ r.reqName }} (Completed)</h3>
				{% else %}
					<h3 class="reqTitle">{{ r.reqName }}</h3>
				{% endif %}
				<p class="reqDescription">Description: {{ r.reqDescription }} </p>

				<div class="reqCoursesWrapper">
					<ul>
						{% if r.courseDone %}
							{% for course in r.courseDone %}
								<li class="course courseCompleted">{{ course }}</li>
							{% endfor %}
						{% endif %}
					</ul>
					<ul id="req{{ forloop.counter }}" class="sortableList">
						{% if r.courseLeft %}
							{% for left in r.courseLeft %}
								<li class="course">{{ left }}</li>
							{% endfor %}
						{% endif %}
					</ul>
					<br>
				</div>
					
			{% endfor %}
		
		{% else %}
			<p> No requirements were given.</p>
		{% endif %}
	</div>

</div>	
</body>


<script>
var numPlanners = {{ planners|length }};
var numReqs = {{ requirements|length }};
</script>


</html>
