
<style>
    .sbe-header {
        background-color: rgb(152, 223, 220);
    }


    .sbe-schema {
        border-right: 1px solid black;
        border-bottom: 1px solid black;
        min-width: 650px;
    }

    .sbe-entry {
        border-top: 1px solid black;
        border-left: 1px solid black;
        display: block;
    }



    .sbe-entry .sbe-entry  {
        /* Nested entries are indented and with no borders */
        margin-left: 30px;
        border-bottom: none;
        border-right: none;
    }


    .sbe-entry .sbe-extension {
        background-color : pink;
    }

    .sbe-extension .sbe-cond {
        display: inline-block;

    }

    .sbe-extension .sbe-conddoc {
        display: inline-block;
        border-left: 1px solid black;
        text-align: center;
        padding-left: 4px;
    }

    .sbe-entry .sbe-field-example {
        display: inline-block;
        vertical-align: top;
        padding: 2px;
        width: 500px;
    }

    .sbe-entry .sbe-field-example .sbe-fieldname {
        color: blue;
    }

    .sbe-entry .sbe-entry .sbe-field-example  {
        width: 469px;
    }
    .sbe-entry .sbe-entry .sbe-entry .sbe-field-example  {
        width: 438px;
    }
    .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-field-example {
        width: 407px;
    }
    .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-field-example  {
        width: 376px;
    }
    .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-field-example  {
        width: 345px;
    }
    .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-entry .sbe-field-example  {
        width: 314px;
    }

    .sbe-entry .columns {
        display: inline-block;
        margin-bottom: -4px;
    }

    .sbe-entry .optional {
        display: table-cell;
        border-left: 1px solid black;
        height: 100%;
        text-align: center;
        width: 40px;
    }

    .sbe-entry .nullable {
        display: table-cell;
        border-left: 1px solid black;
        text-align: center;
        width: 40px;
        height: 100%;
    }

    .sbe-entry .doc {
        padding: 2px;
        display: table-cell;
        border-left: 1px solid black;
        width: 400px;
        height: 100%

    }
</style>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script type='text/javascript'>
    $(document).ready(function () {
        $(".sbe-entry .sbe-field-example a").click(function (e) {
           var p = $(this).parent().parent();
           var summary = $(".summary", $(this).parent());
           if(p.attr('childrenAreHidden') == '1') {
              $(".sbe-entry", p).show ();
              p.attr('childrenAreHidden', '0');
              var summaryHtml = summary.html();
              summary.html(summaryHtml.replace("...", ""));

           } else {
              $(".sbe-entry", p).hide ();
              p.attr('childrenAreHidden', '1');
              summary.html(summary.html() + " ...");
           }
           e.stopPropagation();
           e.preventDefault ();
           return false;
        });
    });
</script>

        <h1>JSON Schemas for CS169 Warmup Project</h1>

        This page documents the JSON schemas for the requests and responses for the CS169 Warmup project.
        <br>
        (This documentation was generated by <a href='schema_by_example.html'>Schema-By-Example</a> on Sun Feb  9 22:04:42 2014)
    <h2><a id='login'></a>/user/login and /user/add request</h2>

    <ul>
        <li> The request must be a POST to /user/login with Content-Type "application/json"
        <li> The data in the request will be a JSON dictionary of the form given below
        <li> The two fields in the request are ASCII strings
    </ul>
    <h2></h2>

<div class='sbe-schema'><div class='sbe-header'><div class='sbe-entry'>
  <div class='sbe-field-example'>Field : Example-Value</div>
  <div class='columns'>
    <div class='optional'>Opt?</div>
    <div class='nullable'>Null?</div>
    <div class='doc'>Description</div>
  </div>
</div>
</div><div class='sbe-entry'>
  <div class='sbe-field-example'>{</div>
  <div class='columns'>
    <div class='optional'></div>
    <div class='nullable'></div>
    <div class='doc'><div style='height:14px'></div></div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>password</span> : "the_password"</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'><div style='height:14px'></div></div>
    </div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>user</span> : "some_user_name"</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'><div style='height:14px'></div></div>
    </div>
  </div>
</div>
  <div class='sbe-entry sbe-empty'>}</div>
</div>

    <ul>
       <li> The request must be a POST to /user/login or /user/add with Content-Type "application/json"
       <li> The response will be a JSON dictionary of the form given below
       <li> The errCode field is an integer with the same values as for the login/add method of UsersModel class
       <li> The count is present only if errCode is SUCCESS, and is the count of logins for the current user
       <li> The response will use HTTP status code 200 unless there is a catastrophic error outside
            the ones captured by the error codes (e.g., an unhandled exception).
            In that case a status code of 500 should be used.
    </ul>
    <h2></h2>

<div class='sbe-schema'><div class='sbe-header'><div class='sbe-entry'>
  <div class='sbe-field-example'>Field : Example-Value</div>
  <div class='columns'>
    <div class='optional'>Opt?</div>
    <div class='nullable'>Null?</div>
    <div class='doc'>Description</div>
  </div>
</div>
</div><div class='sbe-entry'>
  <div class='sbe-field-example'>{</div>
  <div class='columns'>
    <div class='optional'></div>
    <div class='nullable'></div>
    <div class='doc'><div style='height:14px'></div></div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>errCode</span> : 1</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'><div style='height:14px'></div></div>
    </div>
  </div>
  <div class='sbe-entry sbe-extension'><div class='sbe-field-example'>Extension fields when: 'errCode' == 1</div><div class='columns'><div class='sbe-conddoc'>Additional fields on SUCCESS</div></div></div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>count</span> : 15</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'><div style='height:14px'></div></div>
    </div>
  </div>
</div>
  <div class='sbe-entry sbe-empty'>}</div>
</div>
<h2><a id='resetFixture'></a>/TESTAPI/resetFixture request</h2>

    <ul>
    <li> The request must be a POST to /TESTAPI/resetFixture with Content-Type "application/json"
    <li> The data is an empty dictionary
    </ul>
    
    <ul>
    <li> Upon receiving this request the back-end should reset the databases to their empty state.
        For this project, this will consist of calling the UsersModel TESTAPI_resetFixture method.
    <li> The response should be a JSON dictionary with the contents described below
    <li> Note: <i>Real life projects do not contains such a public API.
         Instead the tests would be run on a special test database.
         We added this API so that we can test your backend easily even
         if do not have direct access to the database.</i>
    </ul>
    <h2></h2>

<div class='sbe-schema'><div class='sbe-header'><div class='sbe-entry'>
  <div class='sbe-field-example'>Field : Example-Value</div>
  <div class='columns'>
    <div class='optional'>Opt?</div>
    <div class='nullable'>Null?</div>
    <div class='doc'>Description</div>
  </div>
</div>
</div><div class='sbe-entry'>
  <div class='sbe-field-example'>{</div>
  <div class='columns'>
    <div class='optional'></div>
    <div class='nullable'></div>
    <div class='doc'><div style='height:14px'></div></div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>errCode</span> : 1</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'>The error code</div>
    </div>
  </div>
</div>
  <div class='sbe-entry sbe-empty'>}</div>
</div>
<h2><a id='unitTests'></a>/TESTAPI/unitTests request</h2>

    <ul>
    <li> The request must be a POST to /TESTAPI/unitTests with Content-Type "application/json"
    <li> The data is an empty dictionary
    </ul>
    
    <ul>
    <li> Upon receiving this request the backend should run all of the unit tests,
        wait for them to complete, extract the number of tests, successes, failures,
        and the complete output of the tests and package that as part of the response
    <li> The response should contain a JSON dictionary with the fields described below
    <li> If there is a major error running the unit tests, then the response should at
         least contain the 'output' field with some error message.
         <p>
         One possible strategy for implementing this is to run the unit tests as separate
         shell command, redirecting the output to a file.
         Once the tests complete, you read the output and extract the necessary information.
    <li> Note: <i>Real life projects do not contains such a public API.
         Instead the tests would be run on a special test database.
         We added this API so that we can test your backend easily even if do not have
         direct access to the database.</i>
    </ul>
    <h2></h2>

<div class='sbe-schema'><div class='sbe-header'><div class='sbe-entry'>
  <div class='sbe-field-example'>Field : Example-Value</div>
  <div class='columns'>
    <div class='optional'>Opt?</div>
    <div class='nullable'>Null?</div>
    <div class='doc'>Description</div>
  </div>
</div>
</div><div class='sbe-entry'>
  <div class='sbe-field-example'>{</div>
  <div class='columns'>
    <div class='optional'></div>
    <div class='nullable'></div>
    <div class='doc'><div style='height:14px'></div></div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>nrFailed</span> : 3</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'>how many unit tests failed</div>
    </div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>output</span> : " ... "</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'>The output of running the tests</div>
    </div>
  </div>
  <div class='sbe-entry'>
    <div class='sbe-field-example'><span class='sbe-fieldname'>totalTests</span> : 5</div>
    <div class='columns'>
      <div class='optional'></div>
      <div class='nullable'></div>
      <div class='doc'>how many unit tests were executed</div>
    </div>
  </div>
</div>
  <div class='sbe-entry sbe-empty'>}</div>
</div>
